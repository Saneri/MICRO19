
CODE SEGMENT
	ASSUME CS:CODE
	
	ORG 256
	
START:	
	JMP INSTALLER
	
	; GLOBAL VARIABLES
	DIR equ 4 * 57H ; INSTALL INT 57H
	
	
	
RSI PROC FAR
	
	
	IRET
RSI ENDP

INSTALLER PROC
	XOR AX, AX			; AX = 0
	MOV ES, AX
	MOV AX, OFFSET RSI
	MOV BX, CS
	
	CLI					; disable hardware interrupts
	MOV ES:[DIR], AX
	MOV ES:[DIR+4], BX
	STI					; enable hardware interrupts
	MOV DX, OFFSET INSTALLER
	INT 27h
INTALLER ENDP

CODE ENDS
END START